<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Coerce to a lama_dictionary class object — as.lama_dictionary • labelmachine</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Coerce to a lama_dictionary class object — as.lama_dictionary" />
<meta property="og:description" content="This function allows two types of arguments:
named list: A named list object holding the translations.
data.frame: A data.frame with one ore more column pairs. Each column
pair consists of a column holding the original values, which should be relapced,
and a second charachter column holding the new labels which should be
assigned to the original values. Use the arguments col_old and col_new
in order to define which columns are holding original values and which
columns hold the new labels. The names of the resulting translations
are defined by a character vector given in argument translation.
Furthermore, each translation can have a different ordering which can be
configured by a character vector given in argument ordering.

" />
<meta property="og:image" content="/logo.png" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">labelmachine</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/labelmachine.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/create_dictionaries.html">Creating lama-dictionaries</a>
    </li>
    <li>
      <a href="../articles/translate.html">Translate variables</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/a-maldet/labelmachine">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Coerce to a lama_dictionary class object</h1>
    <small class="dont-index">Source: <a href='https://github.com/a-maldet/labelmachine/blob/master/R/lama_dictionary.R'><code>R/lama_dictionary.R</code></a></small>
    <div class="hidden name"><code>as_lama_dictionary.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function allows two types of arguments:</p><ul>
<li><p><em>named list</em>: A named list object holding the translations.</p></li>
<li><p><em>data.frame</em>: A data.frame with one ore more column pairs. Each column
pair consists of a column holding the original values, which should be relapced,
and a second charachter column holding the new labels which should be
assigned to the original values. Use the arguments <code>col_old</code> and <code>col_new</code>
in order to define which columns are holding original values and which
columns hold the new labels. The names of the resulting translations
are defined by a character vector given in argument <code>translation</code>.
Furthermore, each translation can have a different ordering which can be
configured by a character vector given in argument <code>ordering</code>.</p></li>
</ul>

    </div>

    <pre class="usage"><span class='fu'>as.lama_dictionary</span>(<span class='no'>.data</span>, <span class='no'>...</span>)

<span class='co'># S3 method for list</span>
<span class='fu'>as.lama_dictionary</span>(<span class='no'>.data</span>, <span class='no'>...</span>)

<span class='co'># S3 method for lama_dictionary</span>
<span class='fu'>as.lama_dictionary</span>(<span class='no'>.data</span>, <span class='no'>...</span>)

<span class='co'># S3 method for default</span>
<span class='fu'>as.lama_dictionary</span>(<span class='kw'>.data</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)

<span class='co'># S3 method for data.frame</span>
<span class='fu'>as.lama_dictionary</span>(<span class='no'>.data</span>, <span class='no'>translation</span>, <span class='no'>col_old</span>,
  <span class='no'>col_new</span>, <span class='kw'>ordering</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span>(<span class='st'>"row"</span>, <span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span>(<span class='no'>translation</span>)), <span class='no'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>.data</th>
      <td><p>An object holding the translations. <code>.data</code> can be of the
following data types:</p><ul>
<li><p><em>named list</em>: A named list object, where each list entry is a translation
(a named character vector)</p></li>
<li><p><em>data.frame</em>: A data.frame holding one or more column pairs,
where each column pair consists of
one column holding the original variable values and
a second column holding the new labels,
which should be assigned to the original values.</p></li>
</ul></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Various arguments, depending on the data type of <code>.data</code>.</p></td>
    </tr>
    <tr>
      <th>translation</th>
      <td><p>A character vector holding the names of all translations</p></td>
    </tr>
    <tr>
      <th>col_old</th>
      <td><p>This argument is only used, if the argument given in <code>.data</code>
is a data.frame. In this case, the
argument <code>col_old</code> must be a character vector (same length as <code>translation</code>) holding the
names of the columns in the data.frame (in the argument <code>.data</code>) which hold
the original variable values.
These columns can be of any type: <code>character</code>, <code>logical</code>, <code>numerical</code> or <code>factor</code>.</p></td>
    </tr>
    <tr>
      <th>col_new</th>
      <td><p>This argument is only used, if the argument given in <code>.data</code>
is a data.frame. In this case, the
argument <code>col_old</code> must be a character vector (same length as <code>translation</code>) holding the
names of the columns in the data.frame (in the argument <code>.data</code>) which hold
the new labels, which should be assigned to the original values.
These columns can be <code>character</code> vectors or <code>factors</code> with character labels.</p></td>
    </tr>
    <tr>
      <th>ordering</th>
      <td><p>This argument is only used, if the argument given in <code>.data</code>
is a data.frame. In this case, the
argument <code>ordering</code> must be a character vector (same length as <code>translation</code>) holding
one of the following configuration strings configuring
the ordering of each corresponding translation
should be orde:</p><ul>
<li><p><code>"row"</code>: The corresponding translation will be ordered exactly in the same
way as the rows are ordered in the data.frame <code>.data</code>.</p></li>
<li><p><code>"old"</code>: The corresponding translation will be ordered by the given
original values which are contained in the corresponding column <code>col_old</code>.
If the column contains a factor variable, then the ordering of the
factor will be used. If it just contains a plain character variable,
then it will be ordered alphanumerically.</p></li>
<li><p><code>"new"</code>: The corresponding translation will be ordered by the given
new labels which are contained in the corresponding column <code>col_new</code>.
If the column contains a factor variable, then the ordering of the
factor will be used. If it just contains a plain character variable,
then it will be ordered alphanumerically.</p></li>
</ul></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A new lama_dictionary class object holding the passed in translations.</p>
    <h2 class="hasAnchor" id="translations"><a class="anchor" href="#translations"></a>Translations</h2>

    

<p>A <em>translation</em> is a <em>named character vector</em> of non zero length.
This named character vector defines
which labels (of type character) should be assigned to which values
(can be of type character, logical or numeric)
(e.g. the translation <code><a href='https://rdrr.io/r/base/c.html'>c("0" = "urban", "1" = "rural")</a></code> assigns the label
<code>"urban"</code> to the value <code>0</code> and <code>"rural"</code> to the value <code>1</code>, for example the
variable <code>x = c(0, 0, 1)</code> is translated to <code>x_new = c("urban", "urban", "rural")</code>).
Therefore, a translation (named character vector) contains the following information:</p><ul>
<li><p>The <em>names</em> of the character vector entries correspond to the
<em>original variable levels</em>.
Variables of types <code>numeric</code> or <code>logical</code> are turned automatically into a
character vector (e.g. <code>0</code> and <code>1</code> are treated like <code>"0"</code> and <code>"1"</code>).</p></li>
<li><p>The <em>entries</em> (character strings) of the character vector correspond to
the new <em>labels</em>, which will be assigned to the original variable levels.
It is also allowed to have missing labels (<code>NA</code>s).
In this case, the original values are mappend to missing values.</p></li>
</ul>

<p>The function <code>lama_translate()</code> is used in order to apply a translation on a variable.
The resulting vector with the assigned labels can be of the following types:</p><ul>
<li><p><em>character</em>: An unordered vector holding the new character labels.</p></li>
<li><p><em>factor</em> with character levels: An ordered vector holding the new character labels.</p></li>
</ul>

<p>The original variable can be of the following types:</p><ul>
<li><p><em>character</em> vector: This is the simplest case. The character values
will replaced by the corresponding labels.</p></li>
<li><p><em>numeric</em> or <em>logical</em> vector: Vectors of type <em>numeric</em> or <em>logical</em>
will be turned
into <em>character</em> vectors automatically before the translation process and
then simply processed like in the <em>character</em> case.
Therefore, it is sufficient to define the translation mapping for the
<em>character</em> case, since it also covers the <em>numeric</em> and <em>logical</em> case.</p></li>
<li><p><em>factor</em> vector with levels of any type: When translating factor variables
one can decide whether or not to keep the original ordering. Like in the
other cases the levels of the factor variable will always be turned into
character strings before the translation process.</p></li>
</ul>

    <h2 class="hasAnchor" id="missing-values"><a class="anchor" href="#missing-values"></a>Missing values</h2>

    

<p>It is also possible to handle missing values with <code>lama_translate()</code>.
Therefore, the used translation must contain a information that tells how
to handle a missing value. In order to define such a translation
the missing value (<code>NA</code>) can be escaped with the character string <code>"NA_"</code>.
This can be useful in two sitations:</p><ul>
<li><p>All missing values should be labelled
(e.g. the translation <code><a href='https://rdrr.io/r/base/c.html'>c("0" = "urban", "1" = "rural", NA_ = "missing")</a></code>
assigns the character string <code>"missing"</code> to all missing values of a variable).</p></li>
<li><p>Map some original values to <code>NA</code>
(e.g. the translation <code><a href='https://rdrr.io/r/base/c.html'>c("0" = "urban", "1" = "rural", "2" = "NA_", "3" = "NA_")</a></code>
assigns <code>NA</code> (the missing character) to the original values <code>2</code> and <code>3</code>).
Actually, in this case the translation definition does not always have to
use this escape mechanism, but only
when defining the translations inside of a <code>YAML</code> file,
since the <code>YAML</code> parser does not recognice missing values.</p></li>
</ul>

    <h2 class="hasAnchor" id="lama-dictionary-class-objects"><a class="anchor" href="#lama-dictionary-class-objects"></a>lama_dictionary class objects</h2>

    

<p>Each <em>lama_dictionary</em> class object can contain multiple <em>translations</em>,
each with a unique name under which the translation can be found.
The function <code>lama_translate()</code> uses a lama_dictionary class object
to translate a normal <code>vector</code> or to translate one or more columns in a
<code>data.frame</code>.
Sometimes it may be necessary to have different translations
for the same variable, in this case it is best to have multiple
translations with different names
(e.g. <code>area_short = c("0" = "urb", "1" = "rur")</code> and
<code>area = c("0" = "urban", "1" = "rural")</code>).</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>  <span class='co'># initialize lama_dictionary</span>
  <span class='co'># passing each translation as a named argument</span>
  <span class='no'>dict</span> <span class='kw'>&lt;-</span> <span class='fu'>as.lama_dictionary</span>(<span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(
    <span class='kw'>country</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='kw'>uk</span> <span class='kw'>=</span> <span class='st'>"United Kingdom"</span>, <span class='kw'>fr</span> <span class='kw'>=</span> <span class='st'>"France"</span>, <span class='kw'>NA_</span> <span class='kw'>=</span> <span class='st'>"other countries"</span>),
    <span class='kw'>language</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='kw'>en</span> <span class='kw'>=</span> <span class='st'>"English"</span>, <span class='kw'>fr</span> <span class='kw'>=</span> <span class='st'>"French"</span>)
  ))
  <span class='no'>dict</span></div><div class='output co'>#&gt; 
#&gt; --- lama_dictionary ---
#&gt; Variable 'country':
#&gt;                uk                fr               NA_ 
#&gt;  "United Kingdom"          "France" "other countries" 
#&gt; 
#&gt; Variable 'language':
#&gt;        en        fr 
#&gt; "English"  "French" 
#&gt; </div><div class='input'>  <span class='co'># initialize lama_dictionary</span>
  <span class='co'># from a data.frame holding the label mappings</span>
  <span class='no'>df</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span>(
    <span class='kw'>c_old</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"uk"</span>, <span class='st'>"fr"</span>, <span class='fl'>NA</span>),
    <span class='kw'>c_new</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"United Kingdom"</span>, <span class='st'>"France"</span>, <span class='st'>"other countries"</span>),
    <span class='kw'>l_old</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"en"</span>, <span class='st'>"fr"</span>, <span class='fl'>NA</span>),
    <span class='kw'>l_new</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"English"</span>, <span class='st'>"French"</span>, <span class='fl'>NA</span>), <span class='kw'>levels</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"French"</span>, <span class='st'>"English"</span>))
  )
  <span class='no'>dict</span> <span class='kw'>&lt;-</span> <span class='fu'>as.lama_dictionary</span>(
    <span class='no'>df</span>,
    <span class='kw'>translation</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"country"</span>, <span class='st'>"language"</span>),
    <span class='kw'>col_old</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"c_old"</span>, <span class='st'>"l_old"</span>),
    <span class='kw'>col_new</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"c_new"</span>, <span class='st'>"l_new"</span>),
    <span class='kw'>ordering</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"row"</span>, <span class='st'>"new"</span>)
  )
  <span class='co'># 'country' is ordered as in the df</span>
  <span class='co'># 'language' is ordered differently (French first)</span>
  <span class='no'>dict</span></div><div class='output co'>#&gt; 
#&gt; --- lama_dictionary ---
#&gt; Variable 'country':
#&gt;                uk                fr               NA_ 
#&gt;  "United Kingdom"          "France" "other countries" 
#&gt; 
#&gt; Variable 'language':
#&gt;        fr        en 
#&gt;  "French" "English" 
#&gt; </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#translations">Translations</a></li>
      <li><a href="#missing-values">Missing values</a></li>
      <li><a href="#lama-dictionary-class-objects">lama_dictionary class objects</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Adrian Maldet.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


